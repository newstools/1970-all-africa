Saudi Arabia's ultimatum to African countries has revealed the extent to which Middle Eastern rivalries are being played out on the continent.
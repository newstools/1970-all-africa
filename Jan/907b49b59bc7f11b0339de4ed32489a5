The government has signed an "immediate ceasefire" deal with rebel groups at a meeting in Rome under which armed groups will be given representation in the political arena in exchange for an end to attacks and blockades.